<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="jakarta.faces.core"
      xmlns:h="jakarta.faces.html">
    <h:head>
        <h:outputStylesheet library="css" name="bootstrap.min.css"/>
        <title>View Cart</title>
    </h:head>
    <f:view>
        <h:body>
            <div class="container">
                <h:form>
                    <h1>View Cart</h1>
                    <h:dataTable styleClass="table table-striped" 
                                 value="${frontEnd.cartItems}" var="item">
                        <h:column>
                            <f:facet name="header">Product Name</f:facet>
                             ${item.product.name}
                        </h:column>
                        <h:column>
                            <f:facet name="header">Price</f:facet>
                             ${item.product.price}
                        </h:column>
                        <h:column>
                            <f:facet name="header">Quantity</f:facet>
                             ${item.quantity}
                        </h:column>
                        <h:column>
                            <f:facet name="header">Image</f:facet>
                            <h:graphicImage style="width:200px;height:auto;" 
                                            value="/resources/images/${item.product.image}"/>
                        </h:column>
                    </h:dataTable>
                    <h:commandButton styleClass="btn btn-sm btn-outline-secondary" 
                                     action="${frontEnd.saveCart}"
                                     value="Checkout"/>
                </h:form>
            </div>
            <h:outputScript library="js" name="/bootstrap.min.js"/>
            <h:outputScript library="js" name="/jquery-3.7.1.min.js"/>
        </h:body>
    </f:view>
</html>
